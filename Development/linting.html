<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Linting</title>
  <meta name="description" content="Linting

Code should be at the very least consistently formatted. This section covers how to enforce">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:image" content="/opendoc-ogp-best-practices/site.styling_options.logo_path">

  <link rel="icon" href="/opendoc-ogp-best-practices/assets/images/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Noto+Serif:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/opendoc-ogp-best-practices/assets/styles/normalize.css">
  <link rel="stylesheet" href="/opendoc-ogp-best-practices/assets/styles/main.css">
  <link rel="alternate" type="application/rss+xml" title="Open Government Products - Best Practices"
    href="/opendoc-ogp-best-practices/feed.xml">
  <!-- Polyfill for corejs functions, promises, array.includes, array.from, etc. -->
  <script src="/opendoc-ogp-best-practices/assets/vendor/babel-polyfill.min.js"></script>
  <!-- Polyfill for dom functions -->
  <script src="/opendoc-ogp-best-practices/assets/vendor/dom4.js" charset="utf-8"></script>
  <!-- Polyfill for fetch API -->
  <script src="/opendoc-ogp-best-practices/assets/vendor/fetch.umd.js"></script>
  <!-- Priority Queue library for promises -->
  <script src="/opendoc-ogp-best-practices/assets/js/pqueue.js"></script>
  <!-- Helper functions that should be preloaded go here -->
  <script src="/opendoc-ogp-best-practices/assets/js/helpers.js"></script></head>

<body>
  <div class="site-header no-print">
    <div class="site-header-left">
      <a href="/opendoc-ogp-best-practices/">
        <h1 class="site-header-text">
          Open Government Products - Best Practices
        </h1>
      </a>
      <span class="site-last-updated">
        LAST UPDATED: 02 JUNE 2020
      <span>
    </div>
    <div class="site-header-right"><a id="contact-us" href="https://open.gov.sg/contact-us/" target="_blank">
        <span>Contact Us</span>
      </a>
      <a href="" class="desktop">
        <img class="agency-logo" src="/opendoc-ogp-best-practices/assets/logo.png">
      </a>
      <a href="/opendoc-ogp-best-practices/" class="mobile">
        <img class="agency-logo" src="/opendoc-ogp-best-practices/assets/logo.png">
      </a>
      <a class="search-btn top-mobile-btn">
        <img src="/opendoc-ogp-best-practices/assets/images/search-icon-dark.svg">
      </a>
    </div>
  </div>

  <nav class="site-nav no-print">
    <div class="nav-header no-print">
      <div class="search-box">
        <div class="search-icon-container search-btn">
          <img class="search-icon mobile" src="/opendoc-ogp-best-practices/assets/images/search-icon-dark.svg"/>
          <img class="search-icon" src="/opendoc-ogp-best-practices/assets/images/search-icon-white.svg"/>
          <img class="close-icon" src="/opendoc-ogp-best-practices/assets/images/close.svg"/>
        </div>
        <span class="search-filter hidden">Development</span>
        <div class="search-input-container">
          <p class="search-header">search entire site</p>
          <input id="search-box" placeholder="Search titles or keywords" type="text" />
        </div>
        <label class="clear-button">
          <svg class="clear-icon" viewBox="0 0 18 18" width="18" height="18">
            <path d="M2.42755 1L17.0331 15.60554l-1.41423 1.4142L1 2.38402"></path>
            <path d="M1 15.51932L15.51933 1l1.4142 1.4142L2.2978 17.0331"></path>
          </svg>
        </label>
      </div>
      <div class="search-results">
      </div>
    </div>
    <div class="nav-main no-print">

    


<section class="navigation">

<ul class="table-of-directories hidden">
                    <li>    <a href="/opendoc-ogp-best-practices/Development" id="dir_development" class="tod-container">        <div class="directory-item">Development</div>    </a>    </li>                    <li>    <a href="/opendoc-ogp-best-practices/Deployment" id="dir_deployment" class="tod-container">        <div class="directory-item">Deployment</div>    </a>    </li>
</ul>
<div class="back-to-documents">
    <p>Back to Documents <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/chevron-up.svg"></p>
</div>




    
    
    <section id="toc_development" class="contents">
    
    


            

    
        
            

            

            

            

            



    
        
            
        
            
                
                
    
        
            
                
                
    
        
            
        
            
        
            
                
                
    



<ul class="table-of-contents">  <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/node-dev-setup.html" class="nav-link"><span class="directory-item"> Node.js Developer Setup </span></a>    <ul>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/node-dev-setup.html#linting" class="nav-link"><span class="directory-item"> Linting </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/node-dev-setup.html#running-things-on-a-dev-machine" class="nav-link"><span class="directory-item"> Running things on a dev machine </span></a></li>    </ul>  </li>  <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/linting.html" class="nav-link"><span class="directory-item"> Linting </span></a>    <ul>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/linting.html#setup" class="nav-link"><span class="directory-item"> Setup </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/linting.html#javascript" class="nav-link"><span class="directory-item"> JavaScript </span></a></li>    </ul>  </li>  <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/using-github.html" class="nav-link"><span class="directory-item"> Using GitHub </span></a>    <ul>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/using-github.html#branching-strategy" class="nav-link"><span class="directory-item"> Branching strategy </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/using-github.html#branch-naming" class="nav-link"><span class="directory-item"> Branch naming </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/using-github.html#writing-commits" class="nav-link"><span class="directory-item"> Writing commits </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Development/using-github.html#writing-prs-and-comments" class="nav-link"><span class="directory-item"> Writing PRs and Comments </span></a></li>    </ul>  </li></ul>
    </section>

    
    
    <section id="toc_deployment" class="contents" hidden>
    
    


            

    
        
            

            

            

            

            



    
        
            
                
                
    
        
            
        
            
                
                
    



<ul class="table-of-contents">  <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html" class="nav-link"><span class="directory-item"> AWS Best Practices </span></a>    <ul>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#do-not-use-the-root-account" class="nav-link"><span class="directory-item"> Do not use the root account </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#enable-mfa-on-all-iam-account-with-console-access" class="nav-link"><span class="directory-item"> Enable MFA on all IAM account with console access </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#only-use-your-personal-credentials-for-local-development" class="nav-link"><span class="directory-item"> Only use your personal credentials for local development </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#never-ever-hard-code-aws-credentials" class="nav-link"><span class="directory-item"> Never ever hard-code AWS credentials </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#make-use-of-iam-roles" class="nav-link"><span class="directory-item"> Make use of IAM roles </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#grant-the-least-privilege-possible" class="nav-link"><span class="directory-item"> Grant the least privilege possible </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#there-is-a-managed-service-for-that" class="nav-link"><span class="directory-item"> There is a managed service for that! </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#use-the-right-region" class="nav-link"><span class="directory-item"> Use the right region </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/aws.html#if-it-is-too-complicated-then-you-are-probably-doing-it-wrong" class="nav-link"><span class="directory-item"> If it is too complicated, then you are probably doing it wrong. </span></a></li>    </ul>  </li>  <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html" class="nav-link"><span class="directory-item"> Working with Nectar </span></a>    <ul>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#a-collection-of-non-obvious-things-about-nectar" class="nav-link"><span class="directory-item"> A Collection of Non-Obvious Things About Nectar </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#what-is-nectar" class="nav-link"><span class="directory-item"> What is Nectar? </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#how-do-we-build-products-for-nectar" class="nav-link"><span class="directory-item"> How do we build products for Nectar? </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#development" class="nav-link"><span class="directory-item"> Development </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#building" class="nav-link"><span class="directory-item"> Building </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#deploying" class="nav-link"><span class="directory-item"> Deploying </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#debugging" class="nav-link"><span class="directory-item"> Debugging </span></a></li>      <li class="nav-branch"><a href="/opendoc-ogp-best-practices/Deployment/working-with-nectar.html#some-things-that-dont-yet-exist" class="nav-link"><span class="directory-item"> Some things that don’t yet exist </span></a></li>    </ul>  </li></ul>
    </section>

</section></div>
  </nav><div id="index-div">
  <header class="doc-header no-print">
    <div class=description-container>
      <h2 id="document-title">
        Development
      </h2>
      <div>
        <div id="document-subtitle">
          
        </div>
      </div>
    </div>
  </header>

  <div class="toolbar-container no-print">
    <label for="menu-toggle" class="toolbar-button" id="menu-toggle-btn">
            <input type="checkbox" id="menu-toggle" hidden>
            <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/sidebar.svg">
            <img class="btn-icon hover" src="/opendoc-ogp-best-practices/assets/images/sidebar-hover.svg">
            <img class="mobile-btn-icon " src="/opendoc-ogp-best-practices/assets/images/menu.svg">
            <img class="mobile-btn-icon close" src="/opendoc-ogp-best-practices/assets/images/x-mobile.svg">
            <div class="tooltip">Toggle Sidebar</div>
        </label><div class="toolbar-button print-btn">
            <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/pdf.svg">
            <img class="btn-icon hover" src="/opendoc-ogp-best-practices/assets/images/pdf-hover.svg">
            <div class="tooltip">Save as PDF</div>
        </div><div class="toolbar-button edit-btn">
            <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/github.svg">
            <img class="btn-icon hover" src="/opendoc-ogp-best-practices/assets/images/github-hover.svg">
            <div class="tooltip">View on Github</div>
        </div></div>

<div class="fab no-print" id="fab">
    <div class="overlay" id="fab-overlay"></div>
    <div class="back-to-top hidden" id="back-to-top" href="#">
        <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/chevron-up-white.svg">
    </div>
    <div class="trigger" id="fab-trigger">
        <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/vertical-dots.svg">
        <img class="btn-icon close" src="/opendoc-ogp-best-practices/assets/images/x-mobile.svg">
    </div>
    <div class="actions"><a class="action feedback-btn" href="https://open.gov.sg/contact-us/" target="_blank">
            <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/feedback.svg">
            <div class="tooltip">Feedback</div>
        </a>
        <div class="action share-btn">
            <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/share.svg">
            <div class="tooltip">Share</div>
        </div>
        <div class="action print-btn">
                <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/pdf.svg">
                <div class="tooltip">Save as PDF</div>
            </div><div class="action edit-btn">
                <img class="btn-icon" src="/opendoc-ogp-best-practices/assets/images/github.svg">
                <div class="tooltip">View on Github</div>
            </div></div>
</div>
  </div>

  <main class="site-main" id="main-content" aria-label="Content"><h1 id="linting">Linting</h1>

<p>Code should be at the very least consistently formatted. This section covers how to enforce linting across deve environments as well as within source control</p>

<h2 id="setup">Setup</h2>

<h3 id="ideeditor">IDE/Editor</h3>

<p>Most IDEs/text editors have some way to enable automatic linting of the files you’re editing. Here’s a list of editors + plugins that the team are using:</p>

<ul>
  <li>Sublime Text + <a href="https://github.com/SublimeLinter/SublimeLinter">SublimeLinter</a>
    <ul>
      <li>Provide sublime text setup for linting here</li>
    </ul>
  </li>
  <li>VS Code + ESLint + Document This</li>
</ul>

<p>TODO: Flesh out with more examples</p>

<h3 id="git-hooks">Git Hooks</h3>

<p>A recommended way to enforce linting in a codebase is to set up <a href="https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks">git hooks</a> to lint the codebase. This will help to ensure that the git history is tidy and that all pull requests meet the code style/formatting standards, preventing code reviews from being cluttered with basic comments on code style/formatting.</p>

<p>Recommended hooks: <code class="language-plaintext highlighter-rouge">pre-commit</code> or <code class="language-plaintext highlighter-rouge">pre-push</code></p>

<p>Sample setup: beeline-frontend</p>

<ol>
  <li>Install the <a href="https://www.npmjs.com/package/pre-commit"><code class="language-plaintext highlighter-rouge">pre-commit</code> npm package</a> to set up the git <code class="language-plaintext highlighter-rouge">pre-commit</code> hook</li>
  <li>Configure <code class="language-plaintext highlighter-rouge">pre-commit</code> to run an npm script in <code class="language-plaintext highlighter-rouge">package.json</code> (<a href="https://github.com/datagovsg/beeline-frontend/blob/715d478db76a903f1534157228539a8bdde9e032/package.json#L163-L165">see here</a>)</li>
  <li>Install the <a href="https://www.npmjs.com/package/lint-staged"><code class="language-plaintext highlighter-rouge">lint-staged</code> npm package</a> to only run linter against staged files</li>
  <li>Configure <code class="language-plaintext highlighter-rouge">lint-staged</code> to only look for <code class="language-plaintext highlighter-rouge">*.js</code> files (optionally automatically <code class="language-plaintext highlighter-rouge">git add</code>) (<a href="https://github.com/datagovsg/beeline-frontend/blob/715d478db76a903f1534157228539a8bdde9e032/package.json#L166-L171">see here</a>)</li>
</ol>

<h3 id="ci">CI</h3>

<p>Linting should also be done as part of the CI process. A common setup in the team is to use <a href="https://docs.travis-ci.com/user/getting-started/">Travis CI</a>. A sample Travis YAML file can be <a href="assets/linting/.travis.yml">found here</a>.</p>

<h2 id="javascript">JavaScript</h2>

<h3 id="eslint-config">eslint config</h3>

<p>The team has a standard eslint config that every project should use as a base config before extending it where necessary. It’s available as an npm package - instructions to install and use can be <a href="https://www.npmjs.com/package/@opengovsg/eslint-config-opengovsg">found here</a>.</p>

<p>An example of how to use this can be <a href="https://github.com/datagovsg/beeline-frontend/pull/658/commits/25704f0a0e0ced181923667dee6742eb4937bf02">seen here</a>. Pay special attention to <code class="language-plaintext highlighter-rouge">.eslintrc.json</code> and how to extend the base config to suit individual project needs (e.g. unique global variables for angular projects).</p>

<p>TODO:</p>
<ul>
  <li>Add addtional eslint plugins which can provide useful static analysis:
    <ul>
      <li><a href="https://www.npmjs.com/package/eslint-plugin-node">eslint-plugin-node</a> and <a href="https://github.com/benmosher/eslint-plugin-import">eslint-plugin-import</a> (untested)
        <ul>
          <li>Makes sure you require available files and modules</li>
        </ul>
      </li>
      <li><a href="https://www.npmjs.com/package/eslint-plugin-promise">eslint-plugin-promise</a>
        <ul>
          <li>Makes sure promises are used correctly</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>TODO:</p>
<ul>
  <li>Add links to good tutorials (for onboarding)</li>
</ul>



  </main>
  <div class="site-branding no-print">
    Powered by <a href="https://opendoc.sg"><img src="/opendoc-ogp-best-practices/assets/images/opendoc-logo-full.svg"></a>
  </div>

  <script src="/opendoc-ogp-best-practices/assets/vendor/jump.min.js" charset="utf-8"></script>
  <script src="/opendoc-ogp-best-practices/assets/vendor/headroom.min.js" charset="utf-8"></script>
  <script src="/opendoc-ogp-best-practices/assets/vendor/mark.min.js" charset="utf-8"></script>
  <script src="/opendoc-ogp-best-practices/assets/vendor/web-share-shim.bundle.min.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/toolbar.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/page-index.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/pre-loader.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/lunr.min.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/search.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/header.js"></script>
  <script src="/opendoc-ogp-best-practices/assets/js/navigation.js"></script>
</body>

</html>
